{"version":3,"sources":["FakeCurrencyInput.tsx"],"names":["FakeCurrencyInput","React","forwardRef","props","ref","value","style","onChangeText","containerStyle","caretHidden","caretColor","selectionColor","onFocus","onBlur","rest","focused","setFocused","useState","formattedValue","setFormattedValue","styles","inputContainer","color","text","e","inputHidden","StyleSheet","create","position","top","left","right","bottom","fontSize"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AACA;;;;;;;;;;AAGA;AACA;AACA;AACA;AACA,MAAMA,iBAAiB,gBAAGC,KAAK,CAACC,UAAN,CACxB,CAACC,KAAD,EAAQC,GAAR,KAAgB;AACd,QAAM;AACJC,IAAAA,KADI;AAEJC,IAAAA,KAFI;AAGJC,IAAAA,YAHI;AAIJC,IAAAA,cAJI;AAKJC,IAAAA,WALI;AAMJC,IAAAA,UANI;AAOJC,IAAAA,cAPI;AAQJC,IAAAA,OARI;AASJC,IAAAA,MATI;AAUJ,OAAGC;AAVC,MAWFX,KAXJ;AAaA,QAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBf,KAAK,CAACgB,QAAN,CAAe,KAAf,CAA9B;AACA,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsClB,KAAK,CAACgB,QAAN,CAAe,EAAf,CAA5C;AAEA,sBACE,oBAAC,iBAAD;AAAM,IAAA,KAAK,EAAE,CAACT,cAAD,EAAiBY,MAAM,CAACC,cAAxB;AAAb,kBACE,oBAAC,uBAAD;AACE,IAAA,KAAK,EAAEf,KADT;AAEE,IAAA,aAAa,EAAES,OAAO,IAAI,CAACN,WAF7B;AAGE,IAAA,WAAW,EAAE;AAAEH,MAAAA,KAAK,EAAE;AAAEgB,QAAAA,KAAK,EAAEZ,UAAU,IAAIC;AAAvB;AAAT;AAHf,KAKGO,cALH,CADF,eAQE,oBAAC,sBAAD;AACE,IAAA,KAAK,EAAEb,KADT;AAEE,IAAA,YAAY,EAAGkB,IAAD,IAAU;AACtBJ,MAAAA,iBAAiB,CAACI,IAAD,CAAjB;AACAhB,MAAAA,YAAY,IAAIA,YAAY,CAACgB,IAAD,CAA5B;AACD;AALH,KAMMT,IANN;AAOE,IAAA,cAAc,EAAC,aAPjB;AAQE,IAAA,WAAW,MARb;AASE,IAAA,OAAO,EAAGU,CAAD,IAAO;AACdR,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAJ,MAAAA,OAAO,IAAIA,OAAO,CAACY,CAAD,CAAlB;AACD,KAZH;AAaE,IAAA,MAAM,EAAGA,CAAD,IAAO;AACbR,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAH,MAAAA,MAAM,IAAIA,MAAM,CAACW,CAAD,CAAhB;AACD,KAhBH;AAiBE,IAAA,KAAK,EAAEJ,MAAM,CAACK,WAjBhB;AAkBE,IAAA,GAAG,EAAErB;AAlBP,KARF,CADF;AA+BD,CAjDuB,CAA1B;;AAoDA,MAAMgB,MAAM,GAAGM,wBAAWC,MAAX,CAAkB;AAC/BN,EAAAA,cAAc,EAAE;AACdO,IAAAA,QAAQ,EAAE;AADI,GADe;AAI/BH,EAAAA,WAAW,EAAE;AACXH,IAAAA,KAAK,EAAE,aADI;AAEXM,IAAAA,QAAQ,EAAE,UAFC;AAGXC,IAAAA,GAAG,EAAE,CAHM;AAIXC,IAAAA,IAAI,EAAE,CAAC,EAJI;AAKXC,IAAAA,KAAK,EAAE,CALI;AAMXC,IAAAA,MAAM,EAAE,CANG;AAOXC,IAAAA,QAAQ,EAAE;AAPC;AAJkB,CAAlB,CAAf;;eAeejC,iB","sourcesContent":["import * as React from 'react';\nimport { StyleSheet, TextInput, View } from 'react-native';\n\nimport CurrencyInput from './CurrencyInput';\nimport TextWithCursor from './TextWithCursor';\nimport type { FakeCurrencyInputProps } from './props';\n\n/**\n * This component hides the real currency input and use a Text to imitate the input. So you won't get the flickering issue, but will lost selection functionality.\n * The cursor is not a real cursor, but a pipe character (|) and it'll be always at the end of the text.\n */\nconst FakeCurrencyInput = React.forwardRef<TextInput, FakeCurrencyInputProps>(\n  (props, ref) => {\n    const {\n      value,\n      style,\n      onChangeText,\n      containerStyle,\n      caretHidden,\n      caretColor,\n      selectionColor,\n      onFocus,\n      onBlur,\n      ...rest\n    } = props;\n\n    const [focused, setFocused] = React.useState(false);\n    const [formattedValue, setFormattedValue] = React.useState('');\n\n    return (\n      <View style={[containerStyle, styles.inputContainer]}>\n        <TextWithCursor\n          style={style}\n          cursorVisible={focused && !caretHidden}\n          cursorProps={{ style: { color: caretColor || selectionColor } }}\n        >\n          {formattedValue}\n        </TextWithCursor>\n        <CurrencyInput\n          value={value}\n          onChangeText={(text) => {\n            setFormattedValue(text);\n            onChangeText && onChangeText(text);\n          }}\n          {...rest}\n          selectionColor=\"transparent\"\n          caretHidden\n          onFocus={(e) => {\n            setFocused(true);\n            onFocus && onFocus(e);\n          }}\n          onBlur={(e) => {\n            setFocused(false);\n            onBlur && onBlur(e);\n          }}\n          style={styles.inputHidden}\n          ref={ref}\n        />\n      </View>\n    );\n  }\n);\n\nconst styles = StyleSheet.create({\n  inputContainer: {\n    position: 'relative',\n  },\n  inputHidden: {\n    color: 'transparent',\n    position: 'absolute',\n    top: 0,\n    left: -20,\n    right: 0,\n    bottom: 0,\n    fontSize: 1,\n  },\n});\n\nexport default FakeCurrencyInput;\n"]}